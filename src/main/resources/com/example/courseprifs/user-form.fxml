<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<AnchorPane prefHeight="600.0" prefWidth="450.0" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.courseprifs.fxControllers.UserForm">
   <children>
      <VBox spacing="15.0" AnchorPane.bottomAnchor="10.0" AnchorPane.leftAnchor="10.0" AnchorPane.rightAnchor="10.0" AnchorPane.topAnchor="10.0">
         <children>
            <!-- Title -->
            <Label text="User Registration / Update" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>

            <Separator/>

            <!-- User Type Selection -->
            <Label text="User Type:" style="-fx-font-weight: bold;"/>
            <HBox spacing="15.0">
               <children>
                  <RadioButton fx:id="userRadio" text="User">
                     <toggleGroup>
                        <ToggleGroup fx:id="userTypeGroup"/>
                     </toggleGroup>
                  </RadioButton>
                  <RadioButton fx:id="restaurantRadio" text="Restaurant" toggleGroup="$userTypeGroup"/>
                  <RadioButton fx:id="clientRadio" text="Customer" toggleGroup="$userTypeGroup" selected="true"/>
                  <RadioButton fx:id="driverRadio" text="Driver" toggleGroup="$userTypeGroup"/>
               </children>
            </HBox>

            <Separator/>

            <!-- Common Fields -->
            <GridPane hgap="10.0" vgap="12.0">
               <columnConstraints>
                  <ColumnConstraints minWidth="120.0" prefWidth="120.0"/>
                  <ColumnConstraints minWidth="280.0" prefWidth="280.0"/>
               </columnConstraints>
               <children>
                  <Label text="Username:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                  <TextField fx:id="usernameField" GridPane.rowIndex="0" GridPane.columnIndex="1" promptText="Enter username"/>

                  <Label text="Password:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                  <PasswordField fx:id="passwordField" GridPane.rowIndex="1" GridPane.columnIndex="1" promptText="Enter password"/>

                  <Label text="First Name:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                  <TextField fx:id="nameField" GridPane.rowIndex="2" GridPane.columnIndex="1" promptText="Enter first name"/>

                  <Label text="Last Name:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                  <TextField fx:id="surnameField" GridPane.rowIndex="3" GridPane.columnIndex="1" promptText="Enter last name"/>

                  <Label text="Phone:" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
                  <TextField fx:id="phoneField" GridPane.rowIndex="4" GridPane.columnIndex="1" promptText="Enter phone number"/>

                  <Label text="Address:" GridPane.rowIndex="5" GridPane.columnIndex="0"/>
                  <TextField fx:id="addressField" GridPane.rowIndex="5" GridPane.columnIndex="1" promptText="Enter address"/>

                  <!-- Restaurant-specific fields (initially hidden) -->
                  <Label fx:id="restaurantNameLabel" text="Restaurant Name:" GridPane.rowIndex="6" GridPane.columnIndex="0" visible="false" managed="false"/>
                  <TextField fx:id="restaurantNameField" GridPane.rowIndex="6" GridPane.columnIndex="1" promptText="Enter restaurant name" visible="false" managed="false"/>

                  <Label fx:id="openingTimeLabel" text="Opening Time:" GridPane.rowIndex="7" GridPane.columnIndex="0" visible="false" managed="false"/>
                  <TextField fx:id="openingTimeField" GridPane.rowIndex="7" GridPane.columnIndex="1" promptText="HH:mm" visible="false" managed="false"/>

                  <Label fx:id="closingTimeLabel" text="Closing Time:" GridPane.rowIndex="8" GridPane.columnIndex="0" visible="false" managed="false"/>
                  <TextField fx:id="closingTimeField" GridPane.rowIndex="8" GridPane.columnIndex="1" promptText="HH:mm" visible="false" managed="false"/>

                  <!-- Driver-specific fields (initially hidden) -->
                  <Label fx:id="licenceLabel" text="License #:" GridPane.rowIndex="9" GridPane.columnIndex="0" visible="false" managed="false"/>
                  <TextField fx:id="licenceField" GridPane.rowIndex="9" GridPane.columnIndex="1" promptText="Enter license number" visible="false" managed="false"/>

                  <Label fx:id="birthdateLabel" text="Birth Date:" GridPane.rowIndex="10" GridPane.columnIndex="0" visible="false" managed="false"/>
                  <DatePicker fx:id="birthdatePicker" GridPane.rowIndex="10" GridPane.columnIndex="1" promptText="Select birth date" prefWidth="280.0" visible="false" managed="false"/>

                  <Label fx:id="vehicleLabel" text="Vehicle Type:" GridPane.rowIndex="11" GridPane.columnIndex="0" visible="false" managed="false"/>
                  <ComboBox fx:id="vehicleTypeCombo" GridPane.rowIndex="11" GridPane.columnIndex="1" prefWidth="280.0" promptText="Select vehicle type" visible="false" managed="false"/>
               </children>
            </GridPane>

            <!-- Buttons -->
            <HBox spacing="10.0" alignment="CENTER">
               <children>
                  <Button fx:id="saveButton" text="Create User" onAction="#createNewUser" style="-fx-background-color: #4CAF50; -fx-text-fill: white;" prefWidth="120.0"/>
                  <Button fx:id="updateButton" text="Update User" onAction="#updateUser" style="-fx-background-color: #2196F3; -fx-text-fill: white;" prefWidth="120.0" visible="false"/>
                  <Button text="Cancel" onAction="#closeWindow" style="-fx-background-color: #757575; -fx-text-fill: white;" prefWidth="100.0"/>
               </children>
            </HBox>
         </children>
         <padding>
            <Insets bottom="10.0" left="10.0" right="10.0" top="10.0"/>
         </padding>
      </VBox>
   </children>
</AnchorPane>
